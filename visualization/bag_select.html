<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>니짐내짐</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="item-list">
            <h3>가지고 갈 가방</h3>
            <div class="items" id="bag-list">
                <div class="item">
                    <input type="checkbox" id="bag1" onchange="toggleBag('bag1', '화물용 캐리어', '46 * 27 * 72')">
                    <label for="bag1">화물용 캐리어</label>
                    <span>46 * 27 * 72</span>
                </div>
                <div class="item">
                    <input type="checkbox" id="bag2" onchange="toggleBag('bag2', '기내용 캐리어', '35 * 21 * 51')">
                    <label for="bag2">기내용 캐리어</label>
                    <span>35 * 21 * 51</span>
                </div>
                <div class="item">
                    <input type="checkbox" id="bag3" onchange="toggleBag('bag3', '크로스백', '15 * 13 * 20')">
                    <label for="bag3">크로스백</label>
                    <span>15 * 13 * 20</span>
                </div>
            </div>
            <button class="add-btn" onclick="addNewBag()">추가하기</button>
        </div>
        <div class="selected-items">
            <h3>선택한 가방</h3>
            <div class="items" id="selected-bag-list">
                <!-- 선택한 가방이 여기에 추가됨 -->
            </div>
        </div>
        <button class="confirm-btn" onclick="saveSelectedBags()">확인</button>
    </div>

    <!-- 가방 추가 모달 -->
    <div id="bag-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h3>새 가방 추가하기</h3>
            <div class="form-group">
                <label for="bag-name">가방 이름:</label>
                <input type="text" id="bag-name" placeholder="예: 백팩">
            </div>
            <div class="form-group">
                <label>가방 사이즈:</label>
                <div class="field-group">
                    <div class="field">
                        <label for="bag-width">가로 (cm):</label>
                        <input type="number" id="bag-width" placeholder="가로">
                    </div>
                    <div class="field">
                        <label for="bag-length">세로 (cm):</label>
                        <input type="number" id="bag-length" placeholder="세로">
                    </div>
                    <div class="field">
                        <label for="bag-height">높이 (cm):</label>
                        <input type="number" id="bag-height" placeholder="높이">
                    </div>
                </div>
            </div>
            <button onclick="saveNewBag()">저장</button>
        </div>
    </div>

    <script>
        // 선택된 가방을 저장하는 함수
        function saveSelectedBags() {
            const selectedBags = [];
            document.querySelectorAll('.bag input[type="checkbox"]').forEach(bag => {
                if (bag.checked) {
                    selectedBags.push(bag.value);
                }
            });

            // localStorage에 저장
            localStorage.setItem('selectedBags', JSON.stringify(selectedBags));
                
            navigateToPage("bag_result.html");

        }
    </script>
    <script src="script.js"></script>
</body>
</html>
